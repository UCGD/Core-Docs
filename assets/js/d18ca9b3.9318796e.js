"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([[7926],{5164:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var a=n(8168),r=(n(6540),n(5680));const o={id:"Rclone_and_Ceph",toplevel:!0,title:"Rclone and Ceph"},c=void 0,i={unversionedId:"CHPC_Guide/Rclone_and_Ceph",id:"CHPC_Guide/Rclone_and_Ceph",title:"Rclone and Ceph",description:"UCGD data is archived on Ceph object storage inside the protected",source:"@site/docs/CHPC_Guide/Rclone_and_Ceph.md",sourceDirName:"CHPC_Guide",slug:"/CHPC_Guide/Rclone_and_Ceph",permalink:"/Core-Docs/docs/CHPC_Guide/Rclone_and_Ceph",draft:!1,editUrl:"https://github.com/UCGD/Core-Docs/docs/docs/CHPC_Guide/Rclone_and_Ceph.md",tags:[],version:"current",frontMatter:{id:"Rclone_and_Ceph",toplevel:!0,title:"Rclone and Ceph"},sidebar:"tutorialSidebar",previous:{title:"Quality of Service and Job Limits",permalink:"/Core-Docs/docs/CHPC_Guide/Quality_of_Service_and_Job_Limits.md"},next:{title:"Resource Overview",permalink:"/Core-Docs/docs/CHPC_Guide/Resource Overview"}},s={},l=[],_={toc:l},p="wrapper";function d(e){let{components:t,...n}=e;return(0,r.yg)(p,(0,a.A)({},_,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"UCGD data is archived on Ceph object storage inside the protected\nenvironment. Data access in Ceph is compatible with S3 API\\'s. A\nconvenient way to access Ceph archived data at CHPC is to use Rclone, a\nparallelized tool similar to rsync that also supports S3 type storage."),(0,r.yg)("p",null,"See ",(0,r.yg)("a",{parentName:"p",href:"https://www.chpc.utah.edu/documentation/software/rclone.php"},"CHPC Rclone\nDocumentation"),"\nfor more info on how to setup and use Rclone."),(0,r.yg)("h1",{id:"how-to-access-ucgd-ceph"},"How to access UCGD Ceph"),(0,r.yg)("p",null,"Just as with AWS S3 storage, you will need an access_key_id and\na secret_access_key to access UCGD archive space. Contact Shawn, Barry,\nor Carson to get these values."),(0,r.yg)("p",null,"After setting up Rclone according to CHPC\\'s documentation, there will\nbe a configuration file stored in ","~","/.config/rclone/rclone.conf. You can\nmanually edit this file as needed."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"~","/.config/rclone/rclone.conf contents")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"[ucgd-ceph]\ntype = s3\nenv_auth = false\naccess_key_id = ABABABABABABABABABAB\nsecret_access_key = ab01ab01ab01ab01ab01ab01ab01ab01ab01ab01\nregion =\nendpoint = https://elm-rgw01.int.chpc.utah.edu\nlocation_constraint =\nacl = private\nserver_side_encryption =\nstorage_class =\n")),(0,r.yg)("p",null,"[Only the PolishedBams directory is archived for each UCGD recharge\ncenter project and can be found in the bucket named \\'Repository\\'. Data\nstructure under the bucket will be identical to the lustre Repository\nspace. Each project will also have a file named .rclone.contents that\ncontains metadata attributes (file permissions, timestamps, softlinks)\nthat allow data to be restored to it\\'s original state from the archive\nas needed.]"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example rclone command line")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ rclone ls ucgd-ceph:Repository | head -n 10\n4516 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/.rclone.contents\n4482572182 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/9032X10_120418_SN1117_0088_BD0YWPACXX_6_1.txt.gz\n4448246578 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/9032X10_120418_SN1117_0088_BD0YWPACXX_6_2.txt.gz\n4032853461 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/9032X11_120418_SN1117_0088_BD0YWPACXX_6_1.txt.gz\n3989190731 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/9032X11_120418_SN1117_0088_BD0YWPACXX_6_2.txt.gz\n5058696326 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/9032X12_120418_SN1117_0088_BD0YWPACXX_6_1.txt.gz\n4991040899 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/9032X12_120418_SN1117_0088_BD0YWPACXX_6_2.txt.gz\n5207347767 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/9032X1_120418_SN1117_0088_BD0YWPACXX_4_1.txt.gz\n5130096431 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/9032X1_120418_SN1117_0088_BD0YWPACXX_4_2.txt.gz\n3346976703 AnalysisData/2014/A21/2014-05-12_9032R_PHC_Exome_Grant/UGP/Data/Primary_Data/9032X2_120418_SN1117_0088_BD0YWPACXX_4_1.txt.gz\n")))}d.isMDXComponent=!0},5680:(e,t,n)=>{n.d(t,{xA:()=>_,yg:()=>y});var a=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),l=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},_=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,_=i(e,["components","mdxType","originalType","parentName"]),p=l(n),u=r,y=p["".concat(s,".").concat(u)]||p[u]||d[u]||o;return n?a.createElement(y,c(c({ref:t},_),{},{components:n})):a.createElement(y,c({ref:t},_))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,c=new Array(o);c[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[p]="string"==typeof e?e:r,c[1]=i;for(var l=2;l<o;l++)c[l]=n[l];return a.createElement.apply(null,c)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);