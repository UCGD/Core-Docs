<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/Core-Docs/blog/rss.xml" title="UCGD Core Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Core-Docs/blog/atom.xml" title="UCGD Core Blog Atom Feed"><title data-react-helmet="true">Locally Mount PE Directories | UCGD Core</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://ucgd.github.io/Core-Docs/docs/CHPC_Guide/Locally_Mount_PE_Directories"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Locally Mount PE Directories | UCGD Core"><meta data-react-helmet="true" name="description" content="It is often convenient to mount directories in the CHPC protected environment"><meta data-react-helmet="true" property="og:description" content="It is often convenient to mount directories in the CHPC protected environment"><link data-react-helmet="true" rel="shortcut icon" href="/Core-Docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://ucgd.github.io/Core-Docs/docs/CHPC_Guide/Locally_Mount_PE_Directories"><link data-react-helmet="true" rel="alternate" href="https://ucgd.github.io/Core-Docs/docs/CHPC_Guide/Locally_Mount_PE_Directories" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://ucgd.github.io/Core-Docs/docs/CHPC_Guide/Locally_Mount_PE_Directories" hreflang="x-default"><link rel="stylesheet" href="/Core-Docs/assets/css/styles.f4b48f89.css">
<link rel="preload" href="/Core-Docs/assets/js/runtime~main.159ca7a6.js" as="script">
<link rel="preload" href="/Core-Docs/assets/js/main.83f144c9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Core-Docs/"><img src="/Core-Docs/img/logo.svg" alt="UCGD Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/Core-Docs/img/logo.svg" alt="UCGD Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">UCGD Core</b></a><a class="navbar__item navbar__link navbar__link--active" href="/Core-Docs/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/Core-Docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/UCGD/Core-Docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/Core-Docs/docs/intro">intro</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">CHPC_Guide</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Data_Retirement_Policy">Data Retirement Policy</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Data_Structure_and_Policies">Data Structure and Policies</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Development_and_Productivity">Development and Productivity</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/FastX_CHPC_Desktop">FastX (CHPC Desktop)</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Getting_Started_at_CHPC">Getting Started at CHPC</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Globus">Globus</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Locally_Mount_PE_Directories">Locally Mount PE Directories</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Quality_of_Service_and_Job_Limits.md">Quality of Service and Job Limits</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Rclone_and_Ceph">Rclone and Ceph</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Resource Overview">Resource Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Setup_UCGD_login_environment">Setup UCGD login environment</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Submitting_and_Running_Jobs">Submitting and Running Jobs</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/Transfering_Data">Transfering Data</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/VPN_Profiles">VPN Profiles</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Core-Docs/docs/CHPC_Guide/iTerm_Configuration">iTerm Configuration</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="theme-doc-markdown markdown"><header><h1>Locally Mount PE Directories</h1></header><p>It is often convenient to mount directories in the CHPC protected environment
so they appear as local directories on a local computer. Unfortunately CHPC does
not have Samba available for the PE. But there is a workaround for Mac users to
do this over SSH instead.</p><header><h1>MAC OSX</h1></header><p>These instructions are for Mac OSX, but you can also do local mounts on
Linux. Use <a href="https://github.com/libfuse/libfuse" target="_blank" rel="noopener noreferrer">Libfuse</a>
and <a href="https://github.com/libfuse/sshfs" target="_blank" rel="noopener noreferrer">sshfs</a> for Linux
instead of the links given below. How to install these tools is an
exercise for the user. You can also still use the same ssh_mount script
given below. Linux mounts will be under the /mnt directory.</p><ol><li><p>First install these two tools on your Mac (Fuse and SSHFS).</p><ul><li><a href="https://github.com/osxfuse/osxfuse" target="_blank" rel="noopener noreferrer">https://github.com/osxfuse/osxfuse</a></li><li><a href="https://github.com/osxfuse/sshfs" target="_blank" rel="noopener noreferrer">https://github.com/osxfuse/sshfs</a></li></ul></li><li><p>Next place the script <a href="/Core-Docs/attachments/5963960/5964228">ssh_mount (click to download)</a>
in the /usr/local/bin/ directory on your Mac and make the file executable
(chmod +x /usr/local/bin/ssh_mount).</p></li><li><p>You can then use the ssh_mount script to mount directories from
RedWood over SSH. They will appear in your Finder window or under
/Volumes on the command line.</p><p> Usage:
ssh_mount <a href="mailto:login@server:path" target="_blank" rel="noopener noreferrer">login@server:path</a>
ssh_mount <a href="mailto:login@server:path" target="_blank" rel="noopener noreferrer">login@server:path</a> &lt;user:group&gt;</p><p> Example:
sudo ssh_mount <a href="mailto:u0123456@kingspeak.chpc.utah.edu" target="_blank" rel="noopener noreferrer">u0123456@kingspeak.chpc.utah.edu</a>:/scratch/ucgd
sudo ssh_mount <a href="mailto:u0123456@kingspeak.chpc.utah.edu" target="_blank" rel="noopener noreferrer">u0123456@kingspeak.chpc.utah.edu</a>:/scratch/ucgd john:staff</p><p> Description:
Script to mount CHPC directories over SSH on OSX and Linux using SSHF.
You will need to run as root or via sudo to create the mount. You must
supply the server and path to mount along with ID mappings to collapse
the user:group from the server side (i.e. provide the local user and
group on your Mac that you want thing to map to). The new mount will
show up in the Finder window and under the /Volumes folder on your Mac.
On Linux the mount will appear under the /mnt folder. Soflinks on the
server will also be collapsed and will be displayed locally as real
files rather than softlinks.</p></li></ol><p><img src="/Core-Docs/assets/images/5964231-ac56665649e1ffcf3918e74b77bab85a.png"></p><header><h1>Linux</h1></header><p>Linux mounting (tested on Ubuntu 18.04):</p><ol><li>Install sshfs on your local machine using apt: <code>sudo apt install sshfs</code></li><li>Make mounting dir (here or elsewhere): <code>mkdir mount</code></li><li>Connect to PE using
sshfs: <code>sshfs u0123456@redwood.chpc.utah.edu:/scratch/ucgd/lustre/UCGD_Datahub/Repository/AnalysisData mount</code></li></ol><header><h1>Windows</h1></header><p>Direct mounts through Windows (i.e. mapping a network drive) won\&#x27;t work
in the PE due to the need for Duo 2-factor authentication\
See
<a href="https://www.chpc.utah.edu/documentation/data_services.php#Direct_mounts" target="_blank" rel="noopener noreferrer">https://www.chpc.utah.edu/documentation/data_services.php#Direct_mounts</a>
&gt; Mounting with SSHFS &gt; sshfs on Windows</p><p>The only 3rd party sshfs client that supports Duo 2FA is <a href="https://www.nsoftware.com/sftp/drive/" target="_blank" rel="noopener noreferrer">SFTP Net
Drive</a></p><p>Install
Profile &gt; New Profile</p><p>Name: Redwood
Server (Host name):
<a href="http://redwood.chpc.utah.edu" target="_blank" rel="noopener noreferrer">redwood.chpc.utah.edu</a>
Username: \&lt;uNID&gt;\
Authentication: Keyboard-interactive\
(Choose a Drive Letter)</p><p>1st prompt: enter password\
2nd prompt: enter 1 to push a request to Duo 2FA</p><p>Advanced &gt; Drive &gt; \&quot;Root folder on the Server\&quot;
Choose path to mount, e.g. your Home, Redwood root, /scratch/ucgd, etc.
Create multiple profiles for different paths, e.g. Redwood_Home,
Redwood_Datahub, etc.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/UCGD/Core-Docs/docs/docs/CHPC_Guide/Locally_Mount_PE_Directories.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Core-Docs/docs/CHPC_Guide/Globus"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Globus</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Core-Docs/docs/CHPC_Guide/Quality_of_Service_and_Job_Limits.md"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Quality of Service and Job Limits Â»</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Core-Docs/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Core-Docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/UCGD/Core-Docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Core-Docs/assets/js/runtime~main.159ca7a6.js"></script>
<script src="/Core-Docs/assets/js/main.83f144c9.js"></script>
</body>
</html>